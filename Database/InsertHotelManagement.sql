INSERT INTO Staff (StaffID, FullName, Role, DateOfBirth, Gender, PhoneNumber, CitizenID, StartDate, Notes)
VALUES
('ST001', N'Nguyễn Văn An',     N'Lễ tân',     '1985-03-12', N'Male',   '0909123456', '012345678901', '2020-01-15', N'Nhân viên lễ tân'),
('ST002', N'Lê Thị Bình',       N'Kỹ thuật',   '1990-07-25', N'Female', '0909234567', '012345678902', '2021-03-10', N'Nhân viên kỹ thuật'),
('ST003', N'Trần Văn Cảnh',     N'Admin',      '1978-11-02', N'Male',   '0909345678', '012345678903', '2018-05-01', N'Quản trị hệ thống'),
('ST004', N'Phạm Thị Dung',     N'Dịch vụ',    '1982-06-18', N'Female', '0909456789', '012345678904', '2017-09-22', N'Nhân viên dịch vụ'),
('ST005', N'Hoàng Văn Em',      N'Dịch vụ',    '1995-12-05', N'Male',   '0909567890', '012345678905', '2022-02-01', N'Lễ tân ca sáng'),
('ST006', N'Đặng Thị Pha',      N'Lễ tân',     '1993-04-11', N'Female', '0909678901', '012345678906', '2021-10-12', N'Nhân viên lễ tân'),
('ST007', N'Vũ Văn Giang',      N'Nhân sự',    '1988-08-08', N'Male',   '0909789012', '012345678907', '2019-07-20', N'Nhân viên nhân sự'),
('ST008', N'Nguyễn Thị Hương',  N'Dịch vụ',    '1991-02-17', N'Female', '0909890123', '012345678908', '2020-08-10', N'Nhân viên dịch vụ'),
('ST009', N'Phạm Quốc Khải', N'Lễ tân', '1996-08-14', N'Male', '0911000001', '123456789011', '2022-04-01', N'Lễ tân ca tối'),
('ST010', N'Ngô Thị Mai', N'Lễ tân', '1994-05-09', N'Female', '0911000002', '123456789012', '2021-06-10', N'Nhân viên lễ tân'),

('ST011', N'Đinh Văn Khoa', N'Kỹ thuật', '1987-04-22', N'Male', '0911000003', '123456789013', '2020-02-18', N'Kỹ thuật phòng máy'),
('ST012', N'Lý Hoàng Nhi', N'Kỹ thuật', '1992-10-11', N'Female', '0911000004', '123456789014', '2019-11-12', N'Kỹ thuật điện nước'),

('ST013', N'Bùi Thanh Sơn', N'Admin', '1980-12-03', N'Male', '0911000005', '123456789015', '2018-04-08', N'Admin hệ thống'),
('ST014', N'Võ Tú Uyên', N'Admin', '1986-03-28', N'Female', '0911000006', '123456789016', '2019-01-20', N'Admin vận hành'),

('ST015', N'Hoàng Văn Hội', N'Dịch vụ', '1991-02-17', N'Male', '0911000007', '123456789017', '2020-09-14', N'Dịch vụ phòng'),
('ST016', N'Nguyễn Cẩm Ly', N'Dịch vụ', '1993-07-01', N'Female', '0911000008', '123456789018', '2021-03-05', N'Dịch vụ khách sạn'),

('ST017', N'Phạm Nhật Hào', N'Nhân sự', '1989-11-19', N'Male', '0911000009', '123456789019', '2019-05-01', N'Nhân sự tổng hợp'),
('ST018', N'Lưu Trúc Anh', N'Nhân sự', '1995-01-25', N'Female', '0911000010', '123456789020', '2022-07-10', N'Nhân sự chấm công'),

('ST019', N'Tạ Kim Long', N'Lễ tân', '1997-06-15', N'Male', '0911000011', '123456789021', '2023-03-12', N'Lễ tân full time'),
('ST020', N'Huỳnh Mỹ Linh', N'Lễ tân', '1998-09-07', N'Female', '0911000012', '123456789022', '2024-01-18', N'Lễ tân tập sự'),

('ST021', N'Đỗ Thanh Tuấn', N'Kỹ thuật', '1990-10-30', N'Male', '0911000013', '123456789023', '2022-06-01', N'Kỹ thuật điện'),
('ST022', N'Phan Quỳnh Nhi', N'Kỹ thuật', '1991-03-21', N'Female', '0911000014', '123456789024', '2023-11-19', N'Kỹ thuật nước'),

('ST023', N'Nguyễn Hải Đăng', N'Admin', '1983-02-14', N'Male', '0911000015', '123456789025', '2018-10-09', N'Admin phần mềm'),
('ST024', N'Lê Hồng Nhung', N'Admin', '1985-11-26', N'Female', '0911000016', '111111122222','2020-12-12', N'Admin vận hành'),

('ST025', N'Trương Hữu Lộc', N'Dịch vụ', '1992-01-30', N'Male', '0911000017', '123456789027', '2021-08-17', N'Dịch vụ phòng'),
('ST026', N'Đặng Ngọc Thảo', N'Dịch vụ', '1996-09-03', N'Female', '0911000018', '123456789028', '2023-02-05', N'Dịch vụ phục vụ'),

('ST027', N'Hoàng Gia Phúc', N'Nhân sự', '1990-12-11', N'Male', '0911000019', '123456789029', '2020-04-21', N'Nhân sự tuyển dụng'),
('ST028', N'Trần Minh Tú', N'Nhân sự', '1994-08-16', N'Female', '0911000020', '111122334444','2022-09-14', N'Nhân sự đào tạo'),

('ST029', N'Lý Thành Đạt', N'Lễ tân', '1999-07-12', N'Male', '0911000021', '123456789030', '2023-04-30', N'Lễ tân ca đêm'),
('ST030', N'Nguyễn Thị Hòa', N'Lễ tân', '1997-01-19', N'Female', '0911000022', '123456789031', '2024-02-01', N'Lễ tân mới');
GO
INSERT INTO Account (AccountID, Username, [Password], StartDate, StaffID, [Status])
VALUES
('AC001', 'receptA',  'Recept@1', GETDATE(), 'ST001', N'Active'),
('AC002', 'techB',    'Tech@12',  GETDATE(), 'ST002', N'Active'),
('AC003', 'adminC',   'Admin#9',  GETDATE(), 'ST003', N'Active'),
('AC004', 'serviceD', 'Service@3',GETDATE(), 'ST004', N'Active'),
('AC005', 'serviceE', 'Service#4',GETDATE(), 'ST005', N'Active'),
('AC006', 'receptF',  'Recept@5', GETDATE(), 'ST006', N'Active'),
('AC007', 'hrG',      'Hr#2024',  GETDATE(), 'ST007', N'Inactive'),
('AC008', 'serviceH', 'Service!6',GETDATE(), 'ST008', N'Active'),
('AC009', 'staff009', 'Pass@009', GETDATE(), 'ST009', N'Active'),
('AC010', 'staff010', 'Pass@010', GETDATE(), 'ST010', N'Active'),
('AC011', 'staff011', 'Pass@011', GETDATE(), 'ST011', N'Active'),
('AC012', 'staff012', 'Pass@012', GETDATE(), 'ST012', N'Active'),
('AC013', 'staff013', 'Pass@013', GETDATE(), 'ST013', N'Active'),
('AC014', 'staff014', 'Pass@014', GETDATE(), 'ST014', N'Active'),
('AC015', 'staff015', 'Pass@015', GETDATE(), 'ST015', N'Active'),
('AC016', 'staff016', 'Pass@016', GETDATE(), 'ST016', N'Active'),
('AC017', 'staff017', 'Pass@017', GETDATE(), 'ST017', N'Active'),
('AC018', 'staff018', 'Pass@018', GETDATE(), 'ST018', N'Active'),
('AC019', 'staff019', 'Pass@019', GETDATE(), 'ST019', N'Active'),
('AC020', 'staff020', 'Pass@020', GETDATE(), 'ST020', N'Active'),
('AC021', 'staff021', 'Pass@021', GETDATE(), 'ST021', N'Active'),
('AC022', 'staff022', 'Pass@022', GETDATE(), 'ST022', N'Active'),
('AC023', 'staff023', 'Pass@023', GETDATE(), 'ST023', N'Active'),
('AC024', 'staff024', 'Pass@024', GETDATE(), 'ST024', N'Active'),
('AC025', 'staff025', 'Pass@025', GETDATE(), 'ST025', N'Active'),
('AC026', 'staff026', 'Pass@026', GETDATE(), 'ST026', N'Active'),
('AC027', 'staff027', 'Pass@027', GETDATE(), 'ST027', N'Active'),
('AC028', 'staff028', 'Pass@028', GETDATE(), 'ST028', N'Active'),
('AC029', 'staff029', 'Pass@029', GETDATE(), 'ST029', N'Active'),
('AC030', 'staff030', 'Pass@030', GETDATE(), 'ST030', N'Active');
GO
INSERT INTO CustomerRank (RankName, DiscountPercent, MinSpending)
VALUES
(N'Thường', 0.00, 0),
(N'VIP1', 5.00, 10000000),
(N'VIP2', 8.00, 30000000),
(N'VIP3', 10.00, 70000000),
(N'VIP4', 12.00, 150000000),
(N'VIP5', 15.00, 300000000);
GO
INSERT INTO Customer (CustomerID, FullName, PhoneNumber, NationalID, Address, Country, Gender, DateOfBirth, RankID)
VALUES
('CU001', N'Nguyễn Văn An',     '0901000101', '012345679001', N'123 Lý Thường Kiệt, Q.10, TP.HCM',        N'Việt Nam', N'Male',   '1990-04-15', 1),
('CU002', N'Lê Thị Bình',       '0902000202', '012345679002', N'45 Nguyễn Trãi, Q.5, TP.HCM',             N'Việt Nam', N'Female', '1992-07-10', 2),
('CU003', N'Trần Minh Cường',   '0903000303', '012345679003', N'89 Lê Lợi, Đà Nẵng',                      N'Việt Nam', N'Male',   '1988-12-01', 3),
('CU004', N'Phạm Thị Dung',     '0904000404', '012345679004', N'12 Hai Bà Trưng, Hà Nội',                 N'Việt Nam', N'Female', '1995-09-21', 3),
('CU005', N'Hoàng Văn Em',      '0905000505', '012345679005', N'67 Nguyễn Huệ, Huế',                      N'Việt Nam', N'Male',   '1985-03-11', 4),
('CU006', N'Đặng Thị Hoa',      '0906000606', '012345679006', N'23 Phan Đình Phùng, Q.3, TP.HCM',         N'Việt Nam', N'Female', '1993-06-28', 4),
('CU007', N'Vũ Văn Khánh',      '0907000707', '012345679007', N'78 Trường Chinh, Hà Nội',                 N'Việt Nam', N'Male',   '1980-01-20', 5),
('CU008', N'Nguyễn Thị Lan',    '0908000808', '012345679008', N'9 Trần Phú, Đà Lạt',                      N'Việt Nam', N'Female', '1991-11-12', 5),
('CU009', N'Bùi Quốc Minh',     '0909000909', '012345679009', N'25 Cách Mạng Tháng 8, TP.HCM',            N'Việt Nam', N'Male',   '1987-02-08', 6),
('CU010', N'Phan Thị Ngọc',     '0910001010', '012345679010', N'56 Pasteur, Q.1, TP.HCM',                 N'Việt Nam', N'Female', '1994-10-05', 6),
('CU011', N'John Smith',        '0981001101', '123456789101', N'221B Baker Street, London',               N'Anh',       N'Male',   '1982-09-13', 2),
('CU012', N'Emily Johnson',     '0982002202', '123456789102', N'742 Evergreen Terrace, Springfield',      N'Mỹ',        N'Female', '1989-01-24', 3),
('CU013', N'Yamada Taro',       '0983003303', '123456789103', N'1-2-3 Shibuya, Tokyo',                    N'Nhật Bản',  N'Male',   '1979-03-05', 4),
('CU014', N'Sakura Tanaka',     '0984004404', '123456789104', N'5-6-7 Akihabara, Tokyo',                  N'Nhật Bản',  N'Female', '1992-07-19', 5),
('CU015', N'Park Ji-hoon',      '0985005505', '123456789105', N'88 Gangnam, Seoul',                       N'Hàn Quốc',  N'Male',   '1987-12-10', 3),
('CU016', N'Kim Soo-jin',       '0986006606', '123456789106', N'12 Itaewon, Seoul',                       N'Hàn Quốc',  N'Female', '1990-02-15', 4),
('CU017', N'Liu Wei',           '0987007707', '123456789107', N'56 Nanjing Road, Shanghai',               N'Trung Quốc',N'Male',   '1984-05-22', 5),
('CU018', N'Anna Müller',       '0988008808', '123456789108', N'22 Hauptstraße, Berlin',                  N'Đức',       N'Female', '1986-09-30', 2),
('CU019', N'Maria Rossi',       '0989009909', '123456789109', N'10 Via Roma, Milano',                     N'Ý',         N'Female', '1991-04-04', 6),
('CU020', N'Carlos Silva',      '0990000000', '123456789110', N'55 Avenida Paulista, São Paulo',          N'Brazil',    N'Male',   '1983-11-08', 5),
('CU021', N'Nguyễn Hải Yến',     '0911001101', '012345679021', N'12 Võ Văn Tần, Q.3, TP.HCM',              N'Việt Nam', N'Female', '1996-05-14', 2),
('CU022', N'Phạm Hoàng Phúc',    '0912002202', '012345679022', N'78 Điện Biên Phủ, Q.Bình Thạnh',         N'Việt Nam', N'Male',   '1989-09-20', 3),
('CU023', N'Lê Minh Tài',        '0913003303', '012345679023', N'23 Nguyễn Thị Minh Khai, Q.1',            N'Việt Nam', N'Male',   '1984-12-03', 4),
('CU024', N'Võ Thị Như Ý',        '0914004404', '012345679024', N'45 Trường Sa, Q.3, TP.HCM',               N'Việt Nam', N'Female', '1998-03-22', 1),
('CU025', N'Hoàng Gia Huy',      '0915005505', '012345679025', N'89 Nguyễn Văn Cừ, Long An',              N'Việt Nam', N'Male',   '1987-06-16', 5),
('CU026', N'Trương Mỹ Linh',     '0916006606', '012345679026', N'34 Lê Duẩn, Đà Nẵng',                     N'Việt Nam', N'Female', '1995-08-10', 4),
('CU027', N'Đỗ Thành Nhân',      '0917007707', '012345679027', N'102 CMT8, Q.10, TP.HCM',                  N'Việt Nam', N'Male',   '1981-02-27', 6),
('CU028', N'Nguyễn Thị Thúy',    '0918008808', '012345679028', N'56 Quang Trung, Hà Nội',                 N'Việt Nam', N'Female', '1993-11-02', 3),
('CU029', N'Bùi Đức Thịnh',      '0919009909', '012345679029', N'70 Lạc Long Quân, Hà Nội',               N'Việt Nam', N'Male',   '1988-07-07', 2),
('CU030', N'Lâm Hải Đăng',       '0920000001', '012345679030', N'88 Hoàng Diệu, Đà Nẵng',                 N'Việt Nam', N'Male',   '1983-10-30', 4),

('CU031', N'Olivia Brown',       '0991001101', '223456789111', N'15 Queen Street, Sydney',                N'Australia', N'Female', '1990-08-21', 3),
('CU032', N'Liam Wilson',        '0992002202', '223456789112', N'99 King Road, Toronto',                  N'Canada',    N'Male',   '1985-09-14', 5),
('CU033', N'François Dubois',    '0993003303', '223456789113', N'12 Rue Lafayette, Paris',                N'Pháp',      N'Male',   '1978-01-29', 6),
('CU034', N'Isabelle Laurent',   '0994004404', '223456789114', N'45 Boulevard Haussmann, Paris',          N'Pháp',      N'Female', '1989-06-25', 4),
('CU035', N'Juan Martinez',      '0995005505', '223456789115', N'120 Calle Mayor, Madrid',                N'Tây Ban Nha', N'Male','1986-04-19', 3),
('CU036', N'Lucia Fernández',    '0996006606', '223456789116', N'55 Gran Via, Madrid',                    N'Tây Ban Nha', N'Female','1994-10-11', 2),
('CU037', N'Ahmed Hassan',       '0997007707', '223456789117', N'77 Nile Street, Cairo',                  N'AI Cập',    N'Male',   '1981-05-03', 5),
('CU038', N'Fatima Noor',        '0998008808', '223456789118', N'18 Jumeirah, Dubai',                     N'UAE',       N'Female', '1992-12-17', 4),
('CU039', N'Peter Johansson',    '0999009909', '223456789119', N'33 Drottninggatan, Stockholm',           N'Thụy Điển', N'Male',   '1983-03-28', 6),
('CU040', N'Helena Berg',        '0990110011', '223456789120', N'12 Gamla Stan, Stockholm',               N'Thụy Điển', N'Female', '1988-09-09', 3),
('CU041', N'Sophia Taylor',      '0921001101', '334456789121', N'101 Main Street, Melbourne',         N'Australia', N'Female', '1992-05-14', 3),
('CU042', N'Noah Brown',         '0922002202', '334456789122', N'22 King Street, Vancouver',         N'Canada',    N'Male',   '1988-11-23', 4),
('CU043', N'Emma Martin',        '0923003303', '334456789123', N'77 Rue de Rivoli, Paris',             N'Pháp',      N'Female', '1990-08-05', 2),
('CU044', N'Lucas Petit',        '0924004404', '334456789124', N'12 Boulevard Saint-Germain, Paris',    N'Pháp',      N'Male',   '1985-12-11', 5),
('CU045', N'Miguel Fernández',   '0925005505', '334456789125', N'34 Calle Serrano, Madrid',             N'Tây Ban Nha', N'Male','1983-07-09', 3),
('CU046', N'Isabella Rossi',     '0926006606', '334456789126', N'56 Via Milano, Roma',                  N'Ý',         N'Female', '1991-09-17', 4),
('CU047', N'Omar Khalid',        '0927007707', '334456789127', N'88 Nile Avenue, Cairo',                 N'AI Cập',    N'Male',   '1986-04-12', 5),
('CU048', N'Aisha Al-Farsi',     '0928008808', '334456789128', N'9 Palm Jumeirah, Dubai',                N'UAE',       N'Female', '1993-03-21', 2),
('CU049', N'Sebastian Lindberg', '0929009909', '334456789129', N'33 Stureplan, Stockholm',               N'Thụy Điển', N'Male',   '1987-06-30', 6),
('CU050', N'Linnea Svensson',    '0930001010', '334456789130', N'12 Gamla Stan, Stockholm',               N'Thụy Điển', N'Female', '1990-10-12', 3),

-- CU051 → CU060
('CU051', N'Hannah Wilson',      '0931001101', '334456789131', N'45 Queen Street, Auckland',             N'New Zealand', N'Female', '1992-01-25', 4),
('CU052', N'Ethan Lee',          '0932002202', '334456789132', N'78 King Street, Toronto',               N'Canada',      N'Male',   '1989-07-14', 5),
('CU053', N'Chloe Dubois',       '0933003303', '334456789133', N'12 Rue Lafayette, Paris',               N'Pháp',        N'Female', '1988-05-11', 2),
('CU054', N'Adrien Laurent',     '0934004404', '334456789134', N'45 Boulevard Haussmann, Paris',         N'Pháp',        N'Male',   '1985-11-03', 3),
('CU055', N'Antonio García',     '0935005505', '334456789135', N'120 Calle Mayor, Madrid',                N'Tây Ban Nha', N'Male',   '1987-08-07', 4),
('CU056', N'Lucía Martínez',     '0936006606', '334456789136', N'55 Gran Via, Madrid',                    N'Tây Ban Nha', N'Female', '1990-09-19', 3),
('CU057', N'Mohamed Ali',        '0937007707', '334456789137', N'77 Nile Street, Cairo',                  N'AI Cập',      N'Male',   '1983-02-28', 5),
('CU058', N'Samira Khan',        '0938008808', '334456789138', N'18 Jumeirah, Dubai',                     N'UAE',         N'Female', '1994-04-15', 4),
('CU059', N'Oscar Johansson',    '0939009909', '334456789139', N'33 Drottninggatan, Stockholm',           N'Thụy Điển',   N'Male',   '1986-12-02', 2),
('CU060', N'Freja Nilsson',      '0940001010', '334456789140', N'12 Gamla Stan, Stockholm',               N'Thụy Điển',   N'Female', '1991-06-20', 3),

-- CU061 → CU067
('CU061', N'Mateo Silva',        '0941001101', '334456789141', N'55 Avenida Paulista, São Paulo',          N'Brazil',      N'Male',   '1985-03-15', 4),
('CU062', N'Isabel Costa',       '0942002202', '334456789142', N'23 Rua Augusta, São Paulo',               N'Brazil',      N'Female', '1992-11-05', 3),
('CU063', N'Kenji Nakamura',     '0943003303', '334456789143', N'1-2-3 Shibuya, Tokyo',                    N'Nhật Bản',    N'Male',   '1987-07-12', 5),
('CU064', N'Ayumi Sato',         '0944004404', '334456789144', N'5-6-7 Akihabara, Tokyo',                  N'Nhật Bản',    N'Female', '1990-02-08', 4),
('CU065', N'Park Min-seok',      '0945005505', '334456789145', N'88 Gangnam, Seoul',                       N'Hàn Quốc',    N'Male',   '1983-09-27', 3),
('CU066', N'Kim Hye-jin',        '0946006606', '334456789146', N'12 Itaewon, Seoul',                       N'Hàn Quốc',    N'Female', '1989-01-19', 5),
('CU067', N'Li Wei',             '0947007707', '334456789147', N'56 Nanjing Road, Shanghai',               N'Trung Quốc',  N'Male',   '1984-08-11', 4);
GO
INSERT INTO RoomType (RoomTypeID, TypeName, PricePerDay, PricePerHour, Category, Description)
VALUES
('RT001', N'Phòng Đơn', 400000, 60000, N'Standard', N'Phòng 1 giường đơn, phù hợp cho 1 người.'),
('RT002', N'Phòng Đôi', 700000, 100000, N'Standard', N'Phòng 1 giường đôi hoặc 2 giường đơn, cho 2 người.'),
('RT003', N'Phòng Đa', 1200000, 180000, N'Standard', N'Phòng nhiều giường, phù hợp cho gia đình hoặc nhóm bạn.');
GO
INSERT INTO Room (RoomID, RoomName, RoomTypeID, Capacity, Description, Status, Official)
VALUES
('R001', N'Đơn-101', 'RT001', 1, N'Phòng đơn tầng 1, có cửa sổ', N'Trống', N'Đã chứng thực'),
('R002', N'Đơn-102', 'RT001', 1, N'Phòng đơn tầng 1, gần thang máy', N'Đặt trước', N'Chưa chứng thực'),
('R003', N'Đơn-103', 'RT001', 1, N'Phòng đơn tầng 1, yên tĩnh, view vườn', N'Đang hoạt động', N'Đã chứng thực'),
('R004', N'Đơn-104', 'RT001', 1, N'Phòng đơn tầng 1, có bàn làm việc', N'Dọn dẹp', N'Chưa chứng thực'),
('R005', N'Đơn-105', 'RT001', 1, N'Phòng đơn tầng 1, tường cách âm tốt', N'Trống', N'Đã chứng thực'),
('R006', N'Đơn-106', 'RT001', 1, N'Phòng đơn tầng 1, có mini bar', N'Đang bảo trì', N'Chưa chứng thực'),
('R007', N'Đơn-107', 'RT001', 1, N'Phòng đơn tầng 1, gần lễ tân', N'Trống', N'Đã chứng thực'),
('R008', N'Đơn-108', 'RT001', 1, N'Phòng đơn tầng 1, hướng Tây Nam', N'Đặt trước', N'Chưa chứng thực'),
('R009', N'Đơn-109', 'RT001', 1, N'Phòng đơn tầng 1, có tivi và wifi mạnh', N'Đang hoạt động', N'Đã chứng thực'),
('R010', N'Đơn-110', 'RT001', 1, N'Phòng đơn tầng 1, sạch sẽ, thoáng mát', N'Dọn dẹp', N'Chưa chứng thực'),

('R011', N'Đôi-201', 'RT002', 2, N'Phòng đôi tầng 2, có ban công', N'Trống', N'Đã chứng thực'),
('R012', N'Đôi-202', 'RT002', 2, N'Phòng đôi tầng 2, view hồ bơi', N'Đặt trước', N'Chưa chứng thực'),
('R013', N'Đôi-203', 'RT002', 2, N'Phòng đôi tầng 2, có bồn tắm', N'Đang hoạt động', N'Đã chứng thực'),
('R014', N'Đôi-204', 'RT002', 2, N'Phòng đôi tầng 2, gần cầu thang bộ', N'Dọn dẹp', N'Chưa chứng thực'),
('R015', N'Đôi-205', 'RT002', 2, N'Phòng đôi tầng 2, có ghế sofa', N'Đang bảo trì', N'Đã chứng thực'),
('R016', N'Đôi-206', 'RT002', 2, N'Phòng đôi tầng 2, yên tĩnh, nhiều ánh sáng', N'Trống', N'Đã chứng thực'),
('R017', N'Đôi-207', 'RT002', 2, N'Phòng đôi tầng 2, tầm nhìn hướng vườn', N'Đặt trước', N'Chưa chứng thực'),
('R018', N'Đôi-208', 'RT002', 2, N'Phòng đôi tầng 2, có tủ lạnh mini', N'Đang hoạt động', N'Đã chứng thực'),
('R019', N'Đôi-209', 'RT002', 2, N'Phòng đôi tầng 2, gần khu giải trí', N'Dọn dẹp', N'Chưa chứng thực'),
('R020', N'Đôi-210', 'RT002', 2, N'Phòng đôi tầng 2, nội thất mới', N'Trống', N'Đã chứng thực'),

('R021', N'Đa-301', 'RT003', 4, N'Phòng đa tầng 3, 2 giường đôi, view biển', N'Trống', N'Đã chứng thực'),
('R022', N'Đa-302', 'RT003', 4, N'Phòng đa tầng 3, có sofa và minibar', N'Đặt trước', N'Chưa chứng thực'),
('R023', N'Đa-303', 'RT003', 4, N'Phòng đa tầng 3, có ban công rộng', N'Đang hoạt động', N'Đã chứng thực'),
('R024', N'Đa-304', 'RT003', 4, N'Phòng đa tầng 3, cần dọn dẹp lại', N'Dọn dẹp', N'Chưa chứng thực'),
('R025', N'Đa-305', 'RT003', 4, N'Phòng đa tầng 3, có khu vực tiếp khách', N'Đang bảo trì', N'Đã chứng thực'),
('R026', N'Đa-306', 'RT003', 4, N'Phòng đa tầng 3, gần thang máy', N'Trống', N'Đã chứng thực'),
('R027', N'Đa-307', 'RT003', 4, N'Phòng đa tầng 3, có nhà bếp nhỏ', N'Đặt trước', N'Chưa chứng thực'),
('R028', N'Đa-308', 'RT003', 4, N'Phòng đa tầng 3, rộng rãi thoáng mát', N'Đang hoạt động', N'Đã chứng thực'),
('R029', N'Đa-309', 'RT003', 4, N'Phòng đa tầng 3, có bàn ăn riêng', N'Dọn dẹp', N'Chưa chứng thực'),
('R030', N'Đa-310', 'RT003', 4, N'Phòng đa tầng 3, nội thất cao cấp', N'Trống', N'Đã chứng thực');

UPDATE Room
SET Status = N'Trống';
GO
INSERT INTO RoomEvaluation
(RoomID, EvaluationDate, CleanlinessScore, ComfortScore, ServiceScore, FacilitiesScore, LocationScore, SafetyScore, LuxuryScore, TechnologyScore, StaffScore, Evaluator)
VALUES
('R001', '2025-09-10', 8, 7, 8, 7, 8, 8, 6, 6, 8, N'Nguyễn Văn An'),
('R002', '2025-09-12', 7, 7, 7, 6, 7, 8, 6, 6, 7, N'Nguyễn Văn An'),
('R003', '2025-09-15', 8, 8, 9, 7, 8, 8, 7, 7, 9, N'Nguyễn Văn An'),
('R004', '2025-09-18', 7, 6, 7, 6, 7, 7, 6, 5, 7, N'Nguyễn Văn An'),
('R005', '2025-09-20', 8, 7, 8, 7, 8, 8, 6, 6, 8, N'Nguyễn Văn An'),
('R006', '2025-09-23', 6, 7, 7, 6, 6, 7, 6, 5, 7, N'Nguyễn Văn An'),
('R007', '2025-09-25', 7, 8, 8, 7, 8, 8, 6, 7, 8, N'Nguyễn Văn An'),
('R008', '2025-09-27', 8, 7, 8, 7, 8, 9, 7, 7, 8, N'Nguyễn Văn An'),
('R009', '2025-09-29', 8, 8, 9, 8, 8, 9, 7, 8, 9, N'Nguyễn Văn An'),
('R010', '2025-09-30', 7, 7, 8, 7, 7, 8, 6, 6, 8, N'Nguyễn Văn An'),
('R011', '2025-09-10', 8, 8, 9, 8, 8, 9, 7, 7, 9, N'Phạm Thị Dung'),
('R012', '2025-09-12', 7, 8, 8, 7, 8, 8, 7, 7, 8, N'Phạm Thị Dung'),
('R013', '2025-09-14', 9, 9, 9, 8, 9, 9, 8, 8, 9, N'Phạm Thị Dung'),
('R014', '2025-09-17', 8, 8, 8, 7, 8, 8, 7, 7, 8, N'Phạm Thị Dung'),
('R015', '2025-09-19', 9, 8, 9, 8, 8, 9, 8, 8, 9, N'Phạm Thị Dung'),
('R016', '2025-09-22', 8, 9, 9, 8, 9, 9, 8, 8, 9, N'Phạm Thị Dung'),
('R017', '2025-09-25', 7, 7, 8, 7, 8, 8, 7, 7, 8, N'Phạm Thị Dung'),
('R018', '2025-09-27', 9, 9, 9, 8, 9, 9, 8, 8, 9, N'Phạm Thị Dung'),
('R019', '2025-09-29', 8, 8, 8, 7, 8, 8, 7, 7, 8, N'Phạm Thị Dung'),
('R020', '2025-10-01', 9, 8, 9, 8, 9, 9, 8, 8, 9, N'Phạm Thị Dung'),
('R021', '2025-09-08', 9, 9, 9, 9, 9, 10, 9, 9, 9, N'Lê Hồng Linh'),
('R022', '2025-09-12', 8, 8, 8, 8, 8, 9, 8, 8, 9, N'Lê Hồng Linh'),
('R023', '2025-09-15', 10, 9, 9, 9, 9, 10, 9, 9, 9, N'Lê Hồng Linh'),
('R024', '2025-09-18', 8, 8, 8, 8, 8, 8, 8, 8, 8, N'Lê Hồng Linh'),
('R025', '2025-09-20', 9, 9, 9, 8, 9, 9, 9, 9, 9, N'Lê Hồng Linh'),
('R026', '2025-09-22', 9, 9, 9, 9, 9, 10, 9, 9, 9, N'Lê Hồng Linh'),
('R027', '2025-09-25', 8, 8, 8, 8, 8, 8, 8, 8, 8, N'Lê Hồng Linh'),
('R028', '2025-09-27', 9, 9, 9, 9, 9, 9, 9, 9, 9, N'Lê Hồng Linh'),
('R029', '2025-09-29', 8, 8, 8, 8, 8, 8, 8, 8, 8, N'Lê Hồng Linh'),
('R030', '2025-10-01', 10, 10, 10, 9, 10, 10, 9, 9, 10, N'Lê Hồng Linh');
GO

INSERT INTO EquipmentStorage (EquipmentID, EquipmentName, EquipmentCategory, Quantity, PurchaseDate, Status, Description, StaffID)
VALUES
('EQ001', N'Giường đôi cao cấp', N'Nội thất', 20, '2024-02-01', N'Available', N'Giường gỗ sồi nhập khẩu, nệm cao su thiên nhiên', 'ST001'),
('EQ002', N'Tủ quần áo 3 cánh', N'Nội thất', 25, '2024-03-15', N'Available', N'Tủ gỗ công nghiệp phủ melamine chống ẩm', 'ST002'),
('EQ003', N'Bàn trang điểm', N'Nội thất', 15, '2024-01-20', N'Available', N'Bàn có gương và đèn LED tích hợp', 'ST003'),
('EQ004', N'Ghế sofa đôi', N'Nội thất', 12, '2023-12-10', N'In Use', N'Ghế đặt tại phòng Suite và Deluxe', 'ST004'),
('EQ005', N'Tivi Smart 43 inch', N'Điện tử', 30, '2024-04-05', N'Available', N'Tivi kết nối internet, có Netflix và YouTube', 'ST005'),
('EQ006', N'Máy lạnh Daikin', N'Điện tử', 20, '2023-11-25', N'Maintenance', N'Đang bảo trì định kỳ tháng 10', 'ST006'),
('EQ007', N'Tủ lạnh mini', N'Điện tử', 25, '2024-02-12', N'Available', N'Dung tích 90L, cho phòng Deluxe trở lên', 'ST002'),
('EQ008', N'Két sắt điện tử', N'Tiện ích', 18, '2024-03-01', N'Available', N'Dùng mã PIN, bảo mật cao', 'ST003'),
('EQ009', N'Máy sấy tóc', N'Tiện ích', 40, '2024-05-10', N'Available', N'Máy sấy công suất 1800W, có 2 chế độ nhiệt', 'ST001'),
('EQ010', N'Ấm đun nước siêu tốc', N'Tiện ích', 35, '2024-06-20', N'In Use', N'Ấm Inox, dung tích 1.5L', 'ST005');
GO
INSERT INTO RoomEquipment (RoomEquipmentID, RoomID, EquipmentStorage, Quantity, InstalledDate, Condition, Note, StaffID)
VALUES
('RE001', 'R001', 'EQ001', 1, '2024-03-10', N'Good', N'Giường đôi tiêu chuẩn', 'ST001'),
('RE002', 'R001', 'EQ005', 1, '2024-03-10', N'Good', N'Tivi Smart kết nối ổn định', 'ST005'),
('RE003', 'R002', 'EQ007', 1, '2024-03-15', N'Good', N'Tủ lạnh mini hoạt động tốt', 'ST002'),
('RE004', 'R003', 'EQ009', 1, '2024-04-05', N'Good', N'Máy sấy tóc mới', 'ST001'),
('RE005', 'R004', 'EQ010', 1, '2024-04-12', N'Good', N'Ấm đun nước mới thay', 'ST005'),
('RE006', 'R005', 'EQ002', 1, '2024-04-20', N'Good', N'Tủ quần áo đủ ngăn chứa', 'ST002'),
('RE007', 'R006', 'EQ001', 1, '2024-03-18', N'Good', N'Giường cao cấp', 'ST001'),
('RE008', 'R006', 'EQ005', 1, '2024-03-18', N'Good', N'Tivi Smart 43"', 'ST005'),
('RE009', 'R007', 'EQ003', 1, '2024-03-25', N'Good', N'Bàn trang điểm có đèn LED', 'ST003'),
('RE010', 'R008', 'EQ007', 1, '2024-03-30', N'Good', N'Tủ lạnh mini có đồ uống', 'ST002'),
('RE011', 'R009', 'EQ008', 1, '2024-04-02', N'Good', N'Két sắt điện tử trong tủ quần áo', 'ST003'),
('RE012', 'R010', 'EQ009', 1, '2024-04-10', N'Good', N'Máy sấy tóc Philips', 'ST001'),
('RE013', 'R011', 'EQ001', 1, '2024-02-05', N'Good', N'Giường lớn King Size', 'ST001'),
('RE014', 'R012', 'EQ004', 1, '2024-02-15', N'Good', N'Ghế sofa đôi da cao cấp', 'ST004'),
('RE015', 'R013', 'EQ005', 1, '2024-03-01', N'Good', N'Tivi Smart kết nối Netflix', 'ST005'),
('RE016', 'R014', 'EQ006', 1, '2024-03-12', N'Maintenance', N'Máy lạnh đang bảo dưỡng', 'ST006'),
('RE017', 'R015', 'EQ008', 1, '2024-03-22', N'Good', N'Két sắt điện tử an toàn', 'ST003'),
('RE018', 'R016', 'EQ001', 1, '2024-02-28', N'Good', N'Giường cao cấp nhập khẩu', 'ST001'),
('RE019', 'R017', 'EQ004', 1, '2024-03-03', N'Good', N'Sofa đôi đặt cạnh cửa sổ', 'ST004'),
('RE020', 'R018', 'EQ005', 1, '2024-03-08', N'Good', N'Tivi Smart 43" UHD', 'ST005'),
('RE021', 'R019', 'EQ008', 1, '2024-03-10', N'Good', N'Két sắt điện tử mã số riêng', 'ST003'),
('RE022', 'R020', 'EQ010', 1, '2024-03-15', N'Good', N'Ấm siêu tốc sang trọng', 'ST005');
GO
INSERT INTO FeeType (FeeTypeID, FeeTypeName, Category, DefaultPrice, Notes)
VALUES
('FT001', N'Check-in sớm',       N'Phụ Phí', 200000, N'Tính thêm nếu khách vào trước 12h trưa'),
('FT002', N'Check-out trễ',      N'Phụ Phí', 250000, N'Tính thêm nếu khách ra sau 14h'),
('FT003', N'Thêm giường phụ',    N'Phụ Phí', 300000, N'Thêm 1 giường gấp trong phòng'),
('FT004', N'Dịch vụ giặt ủi',    N'Phụ Phí', 80000,  N'Tính theo mỗi lần giặt ủi'),
('FT005', N'Hỏng TV',            N'Bồi Thường', 2500000, N'Bồi thường khi khách làm hư TV'),
('FT006', N'Hỏng máy lạnh',      N'Bồi Thường', 3500000, N'Sửa chữa hoặc thay mới máy lạnh'),
('FT007', N'Vỡ gương phòng tắm', N'Bồi Thường', 500000,  N'Tính phí khi gương bị vỡ'),
('FT008', N'Phí nâng cấp phòng', N'Khác', 400000, N'Khách yêu cầu nâng cấp từ Standard → Deluxe'),
('FT009', N'Phí mất thẻ phòng',  N'Khác', 150000, N'Mất thẻ từ hoặc chìa khóa phòng');
GO

INSERT INTO Booking (BookingID, CustomerID, RoomID, RentalType, CheckIn, CheckOut, Price, Status, StaffID)
VALUES
('BK001','CU001','R001','Day','2023-11-03 12:00','2023-11-04 12:00',800000,'CheckOut','ST001'),
('BK002','CU002','R002','Hour','2023-11-04 12:00','2023-11-04 16:00',300000,'CheckOut','ST006'),
('BK003','CU003','R003','Day','2023-11-15 12:00','2023-11-16 12:00',800000,'CheckOut','ST029'),
('BK004','CU004','R004','Hour','2023-11-16 12:00','2023-11-16 16:00',300000,'CheckOut','ST030'),
('BK005','CU005','R005','Day','2023-11-20 12:00','2023-11-21 12:00',800000,'CheckOut','ST001'),
('BK006','CU006','R006','Hour','2023-11-21 12:00','2023-11-21 16:00',300000,'CheckOut','ST006'),
('BK007','CU007','R007','Day','2023-12-05 12:00','2023-12-06 12:00',800000,'CheckOut','ST029'),
('BK008','CU008','R008','Hour','2023-12-06 12:00','2023-12-06 16:00',300000,'CheckOut','ST030'),
('BK009','CU009','R009','Day','2024-11-05 12:00','2024-11-06 12:00',800000,'CheckOut','ST001'),
('BK010','CU010','R010','Hour','2024-11-06 12:00','2024-11-06 16:00',300000,'CheckOut','ST006'),
('BK011','CU011','R011','Day','2024-11-15 12:00','2024-11-16 12:00',800000,'CheckOut','ST029'),
('BK012','CU012','R012','Hour','2024-11-16 12:00','2024-11-16 16:00',300000,'CheckOut','ST030'),
('BK013','CU013','R013','Day','2024-11-20 12:00','2024-11-21 12:00',800000,'CheckOut','ST001'),
('BK014','CU014','R014','Hour','2024-11-21 12:00','2024-11-21 16:00',300000,'CheckOut','ST006'),
('BK015','CU015','R015','Day','2025-11-05 12:00','2025-11-06 12:00',800000,'CheckOut','ST029'),
('BK016','CU016','R016','Hour','2025-11-06 12:00','2025-11-06 16:00',300000,'CheckOut','ST030'),
('BK017','CU017','R017','Day','2025-11-10 12:00','2025-11-11 12:00',800000,'CheckOut','ST001'),
('BK018','CU018','R018','Hour','2025-11-11 12:00','2025-11-11 16:00',300000,'CheckOut','ST006'),
('BK019','CU019','R019','Day','2025-11-15 12:00','2025-11-16 12:00',800000,'CheckOut','ST029'),
('BK020','CU020','R020','Hour','2025-11-16 12:00','2025-11-16 16:00',300000,'CheckOut','ST030'),
('BK021','CU021','R021','Day','2025-11-20 12:00','2025-11-21 12:00',800000,'CheckOut','ST001'),
('BK022','CU022','R022','Hour','2025-11-21 12:00','2025-11-21 16:00',300000,'CheckOut','ST006'),
('BK023','CU023','R023','Day','2025-12-01 12:00','2025-12-02 12:00',800000,'CheckOut','ST029'),
('BK024','CU024','R024','Hour','2025-12-02 12:00','2025-12-02 16:00',300000,'CheckOut','ST030'),
('BK025','CU025','R025','Day','2023-11-25 12:00','2023-11-26 12:00',800000,'CheckOut','ST001'),
('BK026','CU026','R001','Hour','2023-11-26 12:00','2023-11-26 16:00',300000,'CheckOut','ST006'),
('BK027','CU027','R002','Day','2024-11-27 12:00','2024-11-28 12:00',800000,'CheckOut','ST029'),
('BK028','CU028','R003','Hour','2024-11-28 12:00','2024-11-28 16:00',300000,'CheckOut','ST030'),
('BK029','CU029','R004','Day','2025-11-29 12:00','2025-11-30 12:00',800000,'CheckOut','ST001'),
('BK030','CU030','R005','Hour','2025-11-30 12:00','2025-11-30 16:00',300000,'CheckOut','ST006'),
('BK031','CU031','R006','Day','2023-02-03 12:00','2023-02-04 12:00',800000,'CheckOut','ST029'),
('BK032','CU032','R007','Hour','2023-03-04 12:00','2023-03-04 16:00',300000,'CheckOut','ST030'),
('BK033','CU033','R008','Day','2023-11-05 12:00','2023-11-06 12:00',800000,'CheckOut','ST001'),
('BK034','CU034','R009','Hour','2023-11-06 12:00','2023-11-06 16:00',300000,'CheckOut','ST006'),
('BK035','CU035','R010','Day','2023-11-07 12:00','2023-11-08 12:00',800000,'CheckOut','ST029'),
('BK036','CU036','R011','Hour','2023-12-08 12:00','2023-12-08 16:00',300000,'CheckOut','ST030'),
('BK037','CU037','R012','Day','2023-12-09 12:00','2023-12-10 12:00',800000,'CheckOut','ST001'),
('BK038','CU038','R013','Hour','2023-12-10 12:00','2023-12-10 16:00',300000,'CheckOut','ST006'),
('BK039','CU039','R014','Day','2023-11-11 12:00','2023-11-12 12:00',800000,'CheckOut','ST029'),
('BK040','CU040','R015','Hour','2023-11-12 12:00','2023-11-12 16:00',300000,'CheckOut','ST030'),
('BK041','CU041','R016','Day','2024-02-13 12:00','2024-02-14 12:00',800000,'CheckOut','ST001'),
('BK042','CU042','R017','Hour','2024-03-14 12:00','2024-03-14 16:00',300000,'CheckOut','ST006'),
('BK043','CU043','R018','Day','2024-11-15 12:00','2024-11-16 12:00',800000,'CheckOut','ST029'),
('BK044','CU044','R019','Hour','2024-11-16 12:00','2024-11-16 16:00',300000,'CheckOut','ST030'),
('BK045','CU045','R020','Day','2024-11-17 12:00','2024-11-18 12:00',800000,'CheckOut','ST001'),
('BK046','CU046','R021','Hour','2024-12-18 12:00','2024-12-18 16:00',300000,'CheckOut','ST006'),
('BK047','CU047','R022','Day','2024-12-19 12:00','2024-12-20 12:00',800000,'CheckOut','ST029'),
('BK048','CU048','R023','Hour','2024-12-20 12:00','2024-12-20 16:00',300000,'CheckOut','ST030'),
('BK049','CU049','R024','Day','2025-11-21 12:00','2025-11-22 12:00',800000,'CheckOut','ST001'),
('BK050','CU050','R025','Hour','2025-11-22 12:00','2025-11-22 16:00',300000,'CheckOut','ST006'),
('BK051','CU051','R001','Day','2025-11-23 12:00','2025-11-24 12:00',800000,'CheckOut','ST029'),
('BK052','CU052','R002','Hour','2025-11-24 12:00','2025-11-24 16:00',300000,'CheckOut','ST030'),
('BK053','CU053','R003','Day','2025-11-25 12:00','2025-11-26 12:00',800000,'CheckOut','ST001'),
('BK054','CU054','R004','Hour','2025-11-26 12:00','2025-11-26 16:00',300000,'CheckOut','ST006'),
('BK055','CU055','R005','Day','2025-12-27 12:00','2025-12-28 12:00',800000,'CheckOut','ST029'),
('BK056','CU056','R006','Hour','2025-12-28 12:00','2025-12-28 16:00',300000,'CheckOut','ST030'),
('BK057','CU057','R007','Day','2025-11-29 12:00','2025-11-30 12:00',800000,'CheckOut','ST001'),
('BK058','CU058','R008','Hour','2025-11-30 12:00','2025-11-30 16:00',300000,'CheckOut','ST006'),
('BK059','CU059','R009','Day','2025-3-31 12:00','2025-04-01 12:00',800000,'CheckOut','ST029'),
('BK060','CU060','R010','Hour','2025-01-01 12:00','2025-01-01 16:00',300000,'CheckOut','ST030'),
('BK061','CU061','R011','Day','2025-04-02 12:00','2025-04-03 12:00',800000,'CheckOut','ST001'),
('BK062','CU062','R012','Hour','2023-11-03 12:00','2023-11-03 16:00',300000,'CheckOut','ST006'),
('BK063','CU063','R013','Day','2023-12-04 12:00','2023-12-05 12:00',800000,'CheckOut','ST029'),
('BK064','CU064','R014','Hour','2023-12-05 12:00','2023-12-05 16:00',300000,'CheckOut','ST030'),
('BK065','CU065','R015','Day','2024-11-06 12:00','2024-11-07 12:00',800000,'CheckOut','ST001'),
('BK066','CU066','R016','Hour','2024-11-07 12:00','2024-11-07 16:00',300000,'CheckOut','ST006'),
('BK067','CU067','R017','Day','2024-12-08 12:00','2024-12-09 12:00',800000,'CheckOut','ST029'),
('BK068','CU001','R018','Hour','2024-12-09 12:00','2024-12-09 16:00',300000,'CheckOut','ST030'),
('BK069','CU002','R019','Day','2025-11-10 12:00','2025-11-11 12:00',800000,'CheckOut','ST001'),
('BK070','CU003','R020','Hour','2025-11-11 12:00','2025-11-11 16:00',300000,'CheckOut','ST006'),
('BK071','CU004','R021','Day','2025-11-12 12:00','2025-11-13 12:00',800000,'CheckOut','ST029'),
('BK072','CU005','R022','Hour','2025-11-13 12:00','2025-11-13 16:00',300000,'CheckOut','ST030'),
('BK073','CU006','R023','Day','2023-11-14 12:00','2023-11-15 12:00',800000,'CheckOut','ST001'),
('BK074','CU007','R024','Hour','2023-11-15 12:00','2023-11-15 16:00',300000,'CheckOut','ST006'),
('BK075','CU008','R025','Day','2023-12-16 12:00','2023-12-17 12:00',800000,'CheckOut','ST029'),
('BK076','CU009','R001','Hour','2025-12-17 12:00','2025-12-17 16:00',300000,'CheckOut','ST030'),
('BK077','CU010','R002','Day','2024-11-18 12:00','2024-11-19 12:00',800000,'CheckOut','ST001'),
('BK078','CU011','R003','Hour','2024-11-19 12:00','2024-11-19 16:00',300000,'CheckOut','ST006'),
('BK079','CU012','R004','Day','2024-12-20 12:00','2024-12-21 12:00',800000,'CheckOut','ST029'),
('BK080','CU013','R005','Hour','2024-12-21 12:00','2024-12-21 16:00',300000,'CheckOut','ST030'),
('BK081','CU014','R006','Day','2025-11-22 12:00','2025-11-23 12:00',800000,'CheckOut','ST001'),
('BK082','CU015','R007','Hour','2025-11-23 12:00','2025-11-23 16:00',300000,'CheckOut','ST006'),
('BK083','CU016','R008','Day','2025-12-24 12:00','2025-12-25 12:00',800000,'CheckOut','ST029'),
('BK084','CU017','R009','Hour','2025-12-25 12:00','2025-12-25 16:00',300000,'CheckOut','ST030'),
('BK085','CU018','R010','Day','2023-11-26 12:00','2023-11-27 12:00',800000,'CheckOut','ST001'),
('BK086','CU019','R011','Hour','2023-11-27 12:00','2023-11-27 16:00',300000,'CheckOut','ST006'),
('BK087','CU020','R012','Day','2023-12-28 12:00','2023-12-29 12:00',800000,'CheckOut','ST029'),
('BK088','CU021','R013','Hour','2023-12-29 12:00','2023-12-29 16:00',300000,'CheckOut','ST030'),
('BK089','CU022','R014','Day','2024-11-30 12:00','2024-12-01 12:00',800000,'CheckOut','ST001'),
('BK090','CU023','R015','Hour','2024-12-01 12:00','2024-12-01 16:00',300000,'CheckOut','ST006'),
('BK091','CU024','R016','Day','2023-11-02 12:00','2023-11-03 12:00',800000,'CheckOut','ST029'),
('BK092','CU025','R017','Hour','2023-11-03 12:00','2023-11-03 16:00',300000,'CheckOut','ST030'),
('BK093','CU026','R018','Day','2023-12-04 12:00','2023-12-05 12:00',800000,'CheckOut','ST001'),
('BK094','CU027','R019','Hour','2023-12-05 12:00','2023-12-05 16:00',300000,'CheckOut','ST006'),
('BK095','CU028','R020','Day','2024-11-06 12:00','2024-11-07 12:00',800000,'CheckOut','ST029'),
('BK096','CU029','R021','Hour','2024-11-07 12:00','2024-11-07 16:00',300000,'CheckOut','ST030'),
('BK097','CU030','R022','Day','2024-12-08 12:00','2024-12-09 12:00',800000,'CheckOut','ST001'),
('BK098','CU031','R023','Hour','2024-12-09 12:00','2024-12-09 16:00',300000,'CheckOut','ST006'),
('BK099','CU032','R024','Day','2025-11-10 12:00','2025-11-11 12:00',800000,'CheckOut','ST029'),
('BK100','CU033','R025','Hour','2025-11-11 12:00','2025-11-11 16:00',300000,'CheckOut','ST030'),
('BK101','CU034','R001','Day','2025-11-12 12:00','2025-11-13 12:00',800000,'CheckOut','ST001'),
('BK102','CU035','R002','Hour','2025-11-13 12:00','2025-11-13 16:00',300000,'CheckOut','ST006'),
('BK103','CU036','R003','Day','2023-11-14 12:00','2023-11-15 12:00',800000,'CheckOut','ST029'),
('BK104','CU037','R004','Hour','2023-11-15 12:00','2023-11-15 16:00',300000,'CheckOut','ST030'),
('BK105','CU038','R005','Day','2023-12-16 12:00','2023-12-17 12:00',800000,'CheckOut','ST001'),
('BK106','CU039','R006','Hour','2023-12-17 12:00','2023-12-17 16:00',300000,'CheckOut','ST006'),
('BK107','CU040','R007','Day','2024-11-18 12:00','2024-11-19 12:00',800000,'CheckOut','ST029'),
('BK108','CU041','R008','Hour','2024-11-19 12:00','2024-11-19 16:00',300000,'CheckOut','ST030'),
('BK109','CU042','R009','Day','2024-12-20 12:00','2024-12-21 12:00',800000,'CheckOut','ST001'),
('BK110','CU043','R010','Hour','2024-12-21 12:00','2024-12-21 16:00',300000,'CheckOut','ST006'),
('BK111','CU044','R011','Day','2025-11-22 12:00','2025-11-23 12:00',800000,'CheckOut','ST029'),
('BK112','CU045','R012','Hour','2025-11-23 12:00','2025-11-23 16:00',300000,'CheckOut','ST030'),
('BK113','CU046','R013','Day','2025-12-24 12:00','2025-12-25 12:00',800000,'CheckOut','ST001'),
('BK114','CU047','R014','Hour','2025-12-25 12:00','2025-12-25 16:00',300000,'CheckOut','ST006'),
('BK115','CU048','R015','Day','2023-11-26 12:00','2023-11-27 12:00',800000,'CheckOut','ST029'),
('BK116','CU049','R016','Hour','2023-11-27 12:00','2023-11-27 16:00',300000,'CheckOut','ST030'),
('BK117','CU050','R017','Day','2023-12-28 12:00','2023-12-29 12:00',800000,'CheckOut','ST001'),
('BK118','CU051','R018','Hour','2023-12-29 12:00','2023-12-29 16:00',300000,'CheckOut','ST006'),
('BK119','CU052','R019','Day','2024-11-30 12:00','2024-12-01 12:00',800000,'CheckOut','ST029'),
('BK120','CU053','R020','Hour','2024-12-01 12:00','2024-12-01 16:00',300000,'CheckOut','ST030'),
('BK121','CU054','R021','Day','2024-11-02 12:00','2024-11-03 12:00',800000,'CheckOut','ST001'),
('BK122','CU055','R022','Hour','2024-11-03 12:00','2024-11-03 16:00',300000,'CheckOut','ST006'),
('BK123','CU056','R023','Day','2025-11-04 12:00','2025-11-05 12:00',800000,'CheckOut','ST029'),
('BK124','CU057','R024','Hour','2025-11-05 12:00','2025-11-05 16:00',300000,'CheckOut','ST030'),
('BK125','CU058','R025','Day','2025-12-06 12:00','2025-12-07 12:00',800000,'CheckOut','ST001'),
('BK126','CU059','R001','Hour','2025-12-07 12:00','2025-12-07 16:00',300000,'CheckOut','ST006'),
('BK127','CU060','R002','Day','2023-11-08 12:00','2023-11-09 12:00',800000,'CheckOut','ST029'),
('BK128','CU061','R003','Hour','2023-11-09 12:00','2023-11-09 16:00',300000,'CheckOut','ST030'),
('BK129','CU062','R004','Day','2024-12-10 12:00','2024-12-11 12:00',800000,'CheckOut','ST001'),
('BK130','CU063','R005','Hour','2024-12-11 12:00','2024-12-11 16:00',300000,'CheckOut','ST006'),
('BK131','CU064','R006','Day','2023-11-02 12:00','2023-11-03 12:00',800000,'CheckOut','ST029'),
('BK132','CU065','R007','Hour','2023-11-03 12:00','2023-11-03 16:00',300000,'CheckOut','ST030'),
('BK133','CU066','R008','Day','2023-12-04 12:00','2023-12-05 12:00',800000,'CheckOut','ST001'),
('BK134','CU067','R009','Hour','2023-12-05 12:00','2023-12-05 16:00',300000,'CheckOut','ST006'),
('BK135','CU001','R010','Day','2024-11-06 12:00','2024-11-07 12:00',800000,'CheckOut','ST029'),
('BK136','CU002','R011','Hour','2024-11-07 12:00','2024-11-07 16:00',300000,'CheckOut','ST030'),
('BK137','CU003','R012','Day','2024-12-08 12:00','2024-12-09 12:00',800000,'CheckOut','ST001'),
('BK138','CU004','R013','Hour','2024-12-09 12:00','2024-12-09 16:00',300000,'CheckOut','ST006'),
('BK139','CU005','R014','Day','2025-11-10 12:00','2025-11-11 12:00',800000,'CheckOut','ST029'),
('BK140','CU006','R015','Hour','2025-11-11 12:00','2025-11-11 16:00',300000,'CheckOut','ST030'),
('BK141','CU007','R016','Day','2025-11-12 12:00','2025-11-13 12:00',800000,'CheckOut','ST001'),
('BK142','CU008','R017','Hour','2025-11-13 12:00','2025-11-13 16:00',300000,'CheckOut','ST006'),
('BK143','CU009','R018','Day','2023-11-14 12:00','2023-11-15 12:00',800000,'CheckOut','ST029'),
('BK144','CU010','R019','Hour','2023-11-15 12:00','2023-11-15 16:00',300000,'CheckOut','ST030'),
('BK145','CU011','R020','Day','2023-12-16 12:00','2023-12-17 12:00',800000,'CheckOut','ST001'),
('BK146','CU012','R021','Hour','2023-12-17 12:00','2023-12-17 16:00',300000,'CheckOut','ST006'),
('BK147','CU013','R022','Day','2024-11-18 12:00','2024-11-19 12:00',800000,'CheckOut','ST029'),
('BK148','CU014','R023','Hour','2024-11-19 12:00','2024-11-19 16:00',300000,'CheckOut','ST030'),
('BK149','CU015','R024','Day','2024-12-20 12:00','2024-12-21 12:00',800000,'CheckOut','ST001'),
('BK150','CU016','R025','Hour','2024-12-21 12:00','2024-12-21 16:00',300000,'CheckOut','ST006'),
('BK151','CU017','R001','Day','2025-11-22 12:00','2025-11-23 12:00',800000,'CheckOut','ST029'),
('BK152','CU018','R002','Hour','2025-11-23 12:00','2025-11-23 16:00',300000,'CheckOut','ST030'),
('BK153','CU019','R003','Day','2025-12-24 12:00','2025-12-25 12:00',800000,'CheckOut','ST001'),
('BK154','CU020','R004','Hour','2025-12-25 12:00','2025-12-25 16:00',300000,'CheckOut','ST006'),
('BK155','CU021','R005','Day','2023-11-26 12:00','2023-11-27 12:00',800000,'CheckOut','ST029'),
('BK156','CU022','R006','Hour','2023-11-27 12:00','2023-11-27 16:00',300000,'CheckOut','ST030'),
('BK157','CU023','R007','Day','2023-12-28 12:00','2023-12-29 12:00',800000,'CheckOut','ST001'),
('BK158','CU024','R008','Hour','2023-12-29 12:00','2023-12-29 16:00',300000,'CheckOut','ST006'),
('BK159','CU025','R009','Day','2024-11-30 12:00','2024-12-01 12:00',800000,'CheckOut','ST029'),
('BK160','CU026','R010','Hour','2024-12-01 12:00','2024-12-01 16:00',300000,'CheckOut','ST030'),
('BK161','CU027','R011','Day','2024-11-02 12:00','2024-11-03 12:00',800000,'CheckOut','ST001'),
('BK162','CU028','R012','Hour','2024-11-03 12:00','2024-11-03 16:00',300000,'CheckOut','ST006'),
('BK163','CU029','R013','Day','2025-11-04 12:00','2025-11-05 12:00',800000,'CheckOut','ST029'),
('BK164','CU030','R014','Hour','2025-11-05 12:00','2025-11-05 16:00',300000,'CheckOut','ST030'),
('BK165','CU031','R015','Day','2025-12-06 12:00','2025-12-07 12:00',800000,'CheckOut','ST001'),
('BK166','CU032','R016','Hour','2025-12-07 12:00','2025-12-07 16:00',300000,'CheckOut','ST006'),
('BK167','CU033','R017','Day','2023-11-08 12:00','2023-11-09 12:00',800000,'CheckOut','ST029'),
('BK168','CU034','R018','Hour','2023-11-09 12:00','2023-11-09 16:00',300000,'CheckOut','ST030'),
('BK169','CU035','R019','Day','2024-12-10 12:00','2024-12-11 12:00',800000,'CheckOut','ST001'),
('BK170','CU036','R020','Hour','2024-12-11 12:00','2024-12-11 16:00',300000,'CheckOut','ST006'),
('BK171','CU037','R021','Day','2024-11-01 12:00','2024-11-02 12:00',800000,'CheckOut','ST029'),
('BK172','CU038','R022','Hour','2024-11-02 12:00','2024-11-02 16:00',300000,'CheckOut','ST030'),
('BK173','CU039','R023','Day','2024-11-03 12:00','2024-11-04 12:00',800000,'CheckOut','ST001'),
('BK174','CU040','R024','Hour','2024-11-04 12:00','2024-11-04 16:00',300000,'CheckOut','ST006'),
('BK175','CU041','R025','Day','2024-11-05 12:00','2024-11-06 12:00',800000,'CheckOut','ST029'),
('BK176','CU042','R001','Hour','2024-11-06 12:00','2024-11-06 16:00',300000,'CheckOut','ST030'),
('BK177','CU043','R002','Day','2024-11-07 12:00','2024-11-08 12:00',800000,'CheckOut','ST001'),
('BK178','CU044','R003','Hour','2024-11-08 12:00','2024-11-08 16:00',300000,'CheckOut','ST006'),
('BK179','CU045','R004','Day','2024-11-09 12:00','2024-11-10 12:00',800000,'CheckOut','ST029'),
('BK180','CU046','R005','Hour','2024-11-10 12:00','2024-11-10 16:00',300000,'CheckOut','ST030'),
('BK181','CU047','R006','Day','2024-11-11 12:00','2024-11-12 12:00',800000,'CheckOut','ST001'),
('BK182','CU048','R007','Hour','2024-11-12 12:00','2024-11-12 16:00',300000,'CheckOut','ST006'),
('BK183','CU049','R008','Day','2024-11-13 12:00','2024-11-14 12:00',800000,'CheckOut','ST029'),
('BK184','CU050','R009','Hour','2024-11-14 12:00','2024-11-14 16:00',300000,'CheckOut','ST030'),
('BK185','CU051','R010','Day','2024-11-15 12:00','2024-11-16 12:00',800000,'CheckOut','ST001'),
('BK186','CU052','R011','Hour','2024-11-16 12:00','2024-11-16 16:00',300000,'CheckOut','ST006'),
('BK187','CU053','R012','Day','2024-11-17 12:00','2024-11-18 12:00',800000,'CheckOut','ST029'),
('BK188','CU054','R013','Hour','2024-11-18 12:00','2024-11-18 16:00',300000,'CheckOut','ST030'),
('BK189','CU055','R014','Day','2024-11-19 12:00','2024-11-20 12:00',800000,'CheckOut','ST001'),
('BK190','CU056','R015','Hour','2024-11-20 12:00','2024-11-20 16:00',300000,'CheckOut','ST006'),
('BK191','CU057','R016','Day','2024-11-21 12:00','2024-11-22 12:00',800000,'CheckOut','ST029'),
('BK192','CU058','R017','Hour','2024-11-22 12:00','2024-11-22 16:00',300000,'CheckOut','ST030'),
('BK193','CU059','R018','Day','2025-06-23 12:00','2025-06-24 12:00',800000,'CheckOut','ST001'),
('BK194','CU060','R019','Hour','2025-07-24 12:00','2025-07-24 16:00',300000,'CheckOut','ST006'),
('BK195','CU061','R020','Day','2024-11-25 12:00','2024-11-26 12:00',800000,'CheckOut','ST029'),
('BK196','CU062','R021','Hour','2024-11-26 12:00','2024-11-26 16:00',300000,'CheckOut','ST030'),
('BK197','CU063','R022','Day','2025-08-27 12:00','2025-08-28 12:00',800000,'CheckOut','ST001'),
('BK198','CU064','R023','Hour','2024-11-28 12:00','2024-11-28 16:00',300000,'CheckOut','ST006'),
('BK199','CU065','R024','Day','2024-11-29 12:00','2024-11-30 12:00',800000,'CheckOut','ST029'),
('BK200','CU066','R025','Hour','2025-09-30 12:00','2025-09-30 16:00',300000,'CheckOut','ST030'),
('BK201','CU067','R001','Day','2024-12-01 12:00','2024-12-02 12:00',800000,'CheckOut','ST001'),
('BK202','CU001','R002','Hour','2024-12-02 12:00','2024-12-02 16:00',300000,'CheckOut','ST006'),
('BK203','CU002','R003','Day','2024-12-03 12:00','2024-12-04 12:00',800000,'CheckOut','ST029'),
('BK204','CU003','R004','Hour','2024-12-04 12:00','2024-12-04 16:00',300000,'CheckOut','ST030'),
('BK205','CU004','R005','Day','2024-12-05 12:00','2024-12-06 12:00',800000,'CheckOut','ST001'),
('BK206','CU005','R006','Hour','2024-12-06 12:00','2024-12-06 16:00',300000,'CheckOut','ST006'),
('BK207','CU006','R007','Day','2024-12-07 12:00','2024-12-08 12:00',800000,'CheckOut','ST029'),
('BK208','CU007','R008','Hour','2024-12-08 12:00','2024-12-08 16:00',300000,'CheckOut','ST030'),
('BK209','CU008','R009','Day','2024-12-09 12:00','2024-12-10 12:00',800000,'CheckOut','ST001'),
('BK210','CU009','R010','Hour','2024-12-10 12:00','2024-12-10 16:00',300000,'CheckOut','ST006'),
('BK211','CU010','R011','Day','2024-12-11 12:00','2024-12-12 12:00',800000,'CheckOut','ST029'),
('BK212','CU011','R012','Hour','2024-12-12 12:00','2024-12-12 16:00',300000,'CheckOut','ST030'),
('BK213','CU012','R013','Day','2024-12-13 12:00','2024-12-14 12:00',800000,'CheckOut','ST001'),
('BK214','CU013','R014','Hour','2024-12-14 12:00','2024-12-14 16:00',300000,'CheckOut','ST006'),
('BK215','CU014','R015','Day','2024-12-15 12:00','2024-12-16 12:00',800000,'CheckOut','ST029'),
('BK216','CU015','R016','Hour','2024-12-16 12:00','2024-12-16 16:00',300000,'CheckOut','ST030'),
('BK217','CU016','R017','Day','2024-12-17 12:00','2024-12-18 12:00',800000,'CheckOut','ST001'),
('BK218','CU017','R018','Hour','2024-12-18 12:00','2024-12-18 16:00',300000,'CheckOut','ST006'),
('BK219','CU018','R019','Day','2024-12-19 12:00','2024-12-20 12:00',800000,'CheckOut','ST029'),
('BK220','CU019','R020','Hour','2024-12-20 12:00','2024-12-20 16:00',300000,'CheckOut','ST030');
GO
INSERT INTO MaintenanceType(TypeName,Description)
VALUES
(N'Bảo trì thiết bị', N'Bảo thiết bị'),
(N'Bảo trì phòng', N'Bảo trì phòng');
GO
CREATE OR ALTER FUNCTION dbo.fn_CalcBookingPrice
(
    @RoomID CHAR(10),
    @RentalType NVARCHAR(10),
    @CheckIn DATETIME,
    @CheckOut DATETIME
)
RETURNS DECIMAL(18,2)
AS
BEGIN
    DECLARE @RoomTypeID CHAR(10),
            @TotalPrice DECIMAL(18,2) = 0,
            @PricePerDay DECIMAL(18,2),
            @PricePerHour DECIMAL(18,2);

    -- Lấy RoomTypeID từ Room
    SELECT @RoomTypeID = RoomTypeID
    FROM Room
    WHERE RoomID = @RoomID;

    -- Lấy giá mặc định từ RoomType
    SELECT @PricePerDay = PricePerDay,
           @PricePerHour = PricePerHour
    FROM RoomType
    WHERE RoomTypeID = @RoomTypeID;

    IF @RentalType = N'Day'
    BEGIN
        ;WITH Days AS (
            SELECT CAST(@CheckIn AS DATE) AS BookingDate
            UNION ALL
            SELECT DATEADD(DAY,1,BookingDate)
            FROM Days
            WHERE BookingDate < CAST(@CheckOut AS DATE)
        )
        SELECT @TotalPrice = SUM(ISNULL(rtp.PricePerDay, @PricePerDay))
        FROM Days d
        LEFT JOIN RoomTypePrice rtp
            ON rtp.RoomTypeID = @RoomTypeID
           AND d.BookingDate BETWEEN rtp.StartDate AND rtp.EndDate;
    END
    ELSE IF @RentalType = N'Hour'
    BEGIN
        DECLARE @Hours INT = DATEDIFF(HOUR, @CheckIn, @CheckOut);
        -- lấy giá động nếu có, fallback về giá mặc định
        SELECT TOP 1 @PricePerHour = ISNULL(PricePerHour, @PricePerHour)
        FROM RoomTypePrice
        WHERE RoomTypeID = @RoomTypeID
          AND CAST(@CheckIn AS DATE) BETWEEN StartDate AND EndDate
        ORDER BY StartDate DESC;

        SET @TotalPrice = @Hours * @PricePerHour;
    END

    RETURN ISNULL(@TotalPrice, 0);
END
GO

UPDATE Booking
SET Price = dbo.fn_CalcBookingPrice(RoomID, RentalType, CheckIn, CheckOut)
WHERE CheckOut <= GETDATE();  -- chỉ update các booking đã check out
GO
INSERT INTO Service (ServiceID, ServiceName, Category, Price, Description)
VALUES
('SV001', N'Ăn sáng buffet',     N'Ăn uống',       150000, N'Buffet sáng phục vụ từ 6h - 9h'),
('SV002', N'Giặt ủi quần áo',    N'Giặt ủi',        50000,  N'Tính theo mỗi kg quần áo'),
('SV003', N'Đưa đón sân bay',    N'Vận chuyển',    300000, N'Đưa đón sân bay bằng xe riêng'),
('SV004', N'Massage thư giãn',   N'Spa',           400000, N'Massage toàn thân 60 phút'),
('SV005', N'Thuê xe máy',        N'Vận chuyển',    200000, N'Thuê xe máy theo ngày'),
('SV006', N'Gọi món tại phòng',  N'Ăn uống',       100000, N'Phục vụ đồ ăn tận phòng'),
('SV007', N'Sauna & xông hơi',   N'Spa',           250000, N'Trọn gói 45 phút'),
('SV008', N'Thuê phòng họp',     N'Dịch vụ khác',  800000, N'Phòng họp tối đa 20 người, có máy chiếu'),
('SV009', N'Thuê ô tô tự lái',        N'Vận chuyển', 700000, N'Thuê ô tô 4 chỗ theo ngày'),
('SV010', N'Ve sinh phòng thêm',      N'Dịch vụ khác', 120000, N'Vệ sinh phòng ngoài lịch thường'),
('SV011', N'Trang trí sinh nhật',     N'Dịch vụ khác', 500000, N'Trang trí bong bóng, banner, bánh kem'),
('SV012', N'Combo Spa 90 phút',       N'Spa',        600000, N'Massage + xông hơi 90 phút'),
('SV013', N'Nước suối mini-bar',      N'Ăn uống',     20000, N'Nước suối trong mini-bar'),
('SV014', N'Bia mini-bar',            N'Ăn uống',     40000, N'Bia lon trong mini-bar'),
('SV015', N'In tài liệu',             N'Dịch vụ khác', 5000, N'In trắng đen mỗi trang'),
('SV016', N'Gọi taxi',                N'Vận chuyển',     0, N'Hỗ trợ gọi taxi (miễn phí)'),
('SV017', N'Thuê nôi em bé',          N'Dịch vụ khác', 150000, N'Thuê nôi cho trẻ dưới 3 tuổi / ngày'),
('SV018', N'Giặt nhanh 2h',           N'Giặt ủi',     90000, N'Giặt lấy trong 2 giờ'),
('SV019', N'Thuê laptop',             N'Dịch vụ khác', 250000, N'Thuê laptop cho khách công tác'),
('SV020', N'Đưa đón nội thành',       N'Vận chuyển', 200000, N'Đưa khách đi trong nội thành');
GO

-- 1️⃣ Chèn Invoice mới nếu chưa có
INSERT INTO Invoice (InvoiceID, BookingID, TotalAmount, InvoiceDate, PaymentMethod, PaidStatus, StaffID, Note)
SELECT 
    'IV' + RIGHT('000' + CAST(ROW_NUMBER() OVER(ORDER BY b.BookingID) AS VARCHAR(3)), 3),
    b.BookingID,
    0,  -- tạm thời set 0, sẽ update sau
    ISNULL(b.CheckOut, GETDATE()),
    CASE 
        WHEN ROW_NUMBER() OVER(ORDER BY b.BookingID) % 3 = 0 THEN N'Thẻ'
        WHEN ROW_NUMBER() OVER(ORDER BY b.BookingID) % 3 = 1 THEN N'Tiền mặt'
        ELSE N'Chuyển khoản'
    END,
    'Paid',
    lt.StaffID,
    N'Hóa đơn tự động'
FROM Booking b
CROSS APPLY (
    SELECT TOP 1 StaffID 
    FROM Staff 
    WHERE Role = N'Lễ tân'
    ORDER BY NEWID()
) lt
WHERE NOT EXISTS (
    SELECT 1 FROM Invoice i WHERE i.BookingID = b.BookingID
);

-- 2️⃣ Update TotalAmount chính xác
UPDATE i
SET i.TotalAmount = ISNULL(roomTotal.RoomPrice,0) 
                    + ISNULL(f.FeeTotal,0) 
                    + ISNULL(s.ServiceTotal,0)
                    - ISNULL(custRank.DiscountAmount,0)
FROM Invoice i
INNER JOIN Booking b ON i.BookingID = b.BookingID

-- Phụ phí
LEFT JOIN (
    SELECT bf.BookingID, SUM(bf.Quantity * ft.DefaultPrice) AS FeeTotal
    FROM BookingFee bf
    INNER JOIN FeeType ft ON bf.FeeTypeID = ft.FeeTypeID
    GROUP BY bf.BookingID
) f ON b.BookingID = f.BookingID

-- Dịch vụ
LEFT JOIN (
    SELECT su.BookingID, SUM(s.Price * su.Quantity) AS ServiceTotal
    FROM ServiceUsage su
    INNER JOIN Service s ON su.ServiceID = s.ServiceID
    GROUP BY su.BookingID
) s ON b.BookingID = s.BookingID

-- Tiền phòng
LEFT JOIN (
    SELECT b.BookingID,
           SUM(
               CASE 
                   WHEN b.RentalType = 'Day' THEN 
                        ISNULL(rtp.PricePerDay, rt.PricePerDay) *
                        CEILING(DATEDIFF(HOUR, b.CheckIn, ISNULL(b.CheckOut, GETDATE())) / 24.0)
                   ELSE 
                        ISNULL(rtp.PricePerHour, rt.PricePerHour) *
                        CEILING(DATEDIFF(HOUR, b.CheckIn, ISNULL(b.CheckOut, GETDATE())))
               END
           ) AS RoomPrice
    FROM Booking b
    INNER JOIN Room r ON b.RoomID = r.RoomID
    INNER JOIN RoomType rt ON r.RoomTypeID = rt.RoomTypeID
    LEFT JOIN RoomTypePrice rtp
        ON rtp.RoomTypeID = rt.RoomTypeID
       AND b.CheckIn BETWEEN rtp.StartDate AND rtp.EndDate
    GROUP BY b.BookingID
) roomTotal ON b.BookingID = roomTotal.BookingID

-- Giảm giá theo CustomerRank
LEFT JOIN (
    SELECT b.BookingID, 
           SUM(
               ISNULL(roomPrice,0) + ISNULL(feeTotal,0) + ISNULL(serviceTotal,0)
           ) * ISNULL(cr.DiscountPercent,0) / 100 AS DiscountAmount
    FROM Booking b
    LEFT JOIN (
        SELECT bf.BookingID, SUM(bf.Quantity * ft.DefaultPrice) AS feeTotal
        FROM BookingFee bf
        INNER JOIN FeeType ft ON bf.FeeTypeID = ft.FeeTypeID
        GROUP BY bf.BookingID
    ) f ON b.BookingID = f.BookingID
    LEFT JOIN (
        SELECT su.BookingID, SUM(s.Price * su.Quantity) AS serviceTotal
        FROM ServiceUsage su
        INNER JOIN Service s ON su.ServiceID = s.ServiceID
        GROUP BY su.BookingID
    ) s ON b.BookingID = s.BookingID
    LEFT JOIN (
        SELECT b.BookingID,
               SUM(
                   CASE 
                       WHEN b.RentalType = 'Day' THEN ISNULL(rtp.PricePerDay, rt.PricePerDay) *
                            CEILING(DATEDIFF(HOUR, b.CheckIn, ISNULL(b.CheckOut, GETDATE())) / 24.0)
                       ELSE ISNULL(rtp.PricePerHour, rt.PricePerHour) *
                            CEILING(DATEDIFF(HOUR, b.CheckIn, ISNULL(b.CheckOut, GETDATE())))
                   END
               ) AS roomPrice
        FROM Booking b
        INNER JOIN Room r ON b.RoomID = r.RoomID
        INNER JOIN RoomType rt ON r.RoomTypeID = rt.RoomTypeID
        LEFT JOIN RoomTypePrice rtp 
            ON rtp.RoomTypeID = rt.RoomTypeID
           AND b.CheckIn BETWEEN rtp.StartDate AND rtp.EndDate
        GROUP BY b.BookingID
    ) rp ON b.BookingID = rp.BookingID
    LEFT JOIN Customer c ON b.CustomerID = c.CustomerID
    LEFT JOIN CustomerRank cr ON c.RankID = cr.RankID
    GROUP BY b.BookingID, cr.DiscountPercent, rp.roomPrice, f.feeTotal, s.serviceTotal
) custRank ON b.BookingID = custRank.BookingID;

SELECT * FROM Booking;
